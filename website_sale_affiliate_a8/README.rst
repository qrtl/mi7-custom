=========================
Website Sale Affiliate A8
=========================

.. 
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! This file is generated by oca-gen-addon-readme !!
   !! changes will be overwritten.                   !!
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
   !! source digest: sha256:ba21a5ba4ba387fa512ffb797bc18db2643475da2cd945ced4f0fbe0571e2cf7
   !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

.. |badge1| image:: https://img.shields.io/badge/maturity-Beta-yellow.png
    :target: https://odoo-community.org/page/development-status
    :alt: Beta
.. |badge2| image:: https://img.shields.io/badge/licence-AGPL--3-blue.png
    :target: http://www.gnu.org/licenses/agpl-3.0-standalone.html
    :alt: License: AGPL-3
.. |badge3| image:: https://img.shields.io/badge/github-qrtl%2Fmi7--custom-lightgray.png?logo=github
    :target: https://github.com/qrtl/mi7-custom/tree/15.0/website_sale_affiliate_a8
    :alt: qrtl/mi7-custom

|badge1| |badge2| |badge3|

This module adds a script in the /shop/confirmation page to pass the
relevant sales data to A8, an affiliate service provider.

-  Capture a8_param from the cookie and saves it in the partner at user
   login.
-  Generates a cookie with A8 param based on the partner's a8_param at
   the time of checkout.
-  Extends the template of /shop/confirmation page to set A8's
   JavaScript and sales contents.
-  Clears a8_param of the partner with payment confirmation.

Currencies supported by A8: JPY, USD, and EUR

Caveats
-------

Currently the A8 affiliate sales is NOT recognized for if customer takes
following operation sequence:

1. Customer is already logged in to the eCommerce shop.
2. Customer clicks an A8 link to arrive at the shop (no login step since
   already logged in). When this happens, the user is not updated with
   the A8 param.
3. Customer logs in to the shop from another device/browser to proceed
   with an order.

**Table of contents**

.. contents::
   :local:

Configuration
=============

For the initial setup, go to *Settings > Technical > System Parameters*
and update following three parameters:

-  affiliate.service.name: Affiliate service provider's name
-  affiliate.pid: Program ID issued by affiliate vendor
-  affiliate.script.src: URL to the conversion acquisition script

See https://document.a8.net/ec/trackingGuide-ja.html for the tag
specification.

Bug Tracker
===========

Bugs are tracked on `GitHub Issues <https://github.com/qrtl/mi7-custom/issues>`_.
In case of trouble, please check there if your issue has already been reported.
If you spotted it first, help us to smash it by providing a detailed and welcomed
`feedback <https://github.com/qrtl/mi7-custom/issues/new?body=module:%20website_sale_affiliate_a8%0Aversion:%2015.0%0A%0A**Steps%20to%20reproduce**%0A-%20...%0A%0A**Current%20behavior**%0A%0A**Expected%20behavior**>`_.

Do not contact contributors directly about support or help with technical issues.

Credits
=======

Authors
-------

* Quartile Limited

Maintainers
-----------

This module is part of the `qrtl/mi7-custom <https://github.com/qrtl/mi7-custom/tree/15.0/website_sale_affiliate_a8>`_ project on GitHub.

You are welcome to contribute.
